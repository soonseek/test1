# 코드 사양 (Code Specification)

**Task ID**: task-1-1-3
**작성자**: Next.js 14+ Full-Stack Architect

이 문서는 PokeAPI 데이터 페칭 로직 구현을 위한 파일 구조 및 상세 사양을 정의합니다.

---

### 파일: `src/types/pokemon.ts`
---
설명: PokeAPI의 응답 데이터와 우리 애플리케이션에서 사용할 데이터 형태를 정의하는 TypeScript 인터페이스 파일입니다.
- `PokeAPIListResponse`: PokeAPI v2 `/pokemon` 엔드포인트의 원본 응답 형태 정의 (`count`, `next`, `previous`, `results[]`)
- `PokeAPIResource`: `results` 배열 내부의 객체 형태 정의 (`name`, `url`)
- `PokemonListItem`: 클라이언트로 반환할 최종 데이터 형태 정의 (이름, ID 추출 로직 등)

### 파일: `src/lib/api/pokeapi.ts`
---
설명: PokeAPI와의 통신을 담당하는 서버 사이드 유틸리티 모듈입니다.
- `fetchPokemonList` 함수 구현
- 인자: `page` (number, 기본값 1), `limit` (number, 기본값 20)
- 동작:
  - `page`와 `limit`을 기반으로 `offset` 계산 (`offset = (page - 1) * limit`)
  - `fetch('https://pokeapi.co/api/v2/pokemon?limit=...&offset=...')` 호출
  - 응답 데이터를 JSON 파싱 후 `PokeAPIListResponse` 타입으로 반환
- 에러 처리: 네트워크 오류 발생 시 Error 객체 throw

### 파일: `src/app/api/pokemon/route.ts`
---
설명: 클라이언트의 요청을 받아 포켓몬 리스트 데이터를 반환하는 Next.js API Route Handler입니다.
- HTTP 메서드: `GET` 허용
- 쿼리 파라미터 파싱:
  - `searchParams`에서 `page`와 `limit` 추출
  - 문자열을 숫자로 변환 및 기본값 설정 (page: 1, limit: 20)
- 비즈니스 로직:
  - `lib/api/pokeapi.ts`의 `fetchPokemonList` 호출
  - (선택) 필요시 URL에서 ID 추출 로직을 수행하여 데이터 가공
- 응답: `NextResponse.json()`을 통해 가공된 데이터 반환
- 상태 코드: 성공 시 200, 실패 시 500

### 파일: `src/app/page.tsx`
---
설명: 포켓몬 도감의 메인 페이지로, 서버 컴포넌트(Server Component)로 동작합니다.
- 데이터 페칭:
  - `fetch('http://localhost:3000/api/pokemon?page=1&limit=20')` 호출 (또는 내부 함수 직접 호출)
  - 초기 렌더링에 필요한 데이터 가져오기
- UI 렌더링:
  - 가져온 데이터를 기반으로 `PokemonCard` 컴포넌트 리스트 매핑
  - 로딩 상태 및 에러 상태에 대한 기본 UI 처리 (Story 1-1 범위 내에서 간단히 구현)

### 파일: `src/components/PokemonCard.tsx`
---
설명: 개별 포켓몬 정보를 표시하는 UI 컴포넌트입니다.
- Props: `name` (string), `url` (string) 또는 가공된 데이터 객체
- 기능:
  - URL에서 ID 추출 (예: `https://pokeapi.co/api/v2/pokemon/1/` -> `1`)
  - 포켓몬 이미지 표시 (PokeAPI 공식 이미지 URL 포맷 사용: `raw.githubusercontent.com/...`)
  - 포켓몬 이름 및 번호(#001) 표시
- 스타일: Tailwind CSS를 사용하여 카드 형태 디자인 (shadcn/ui Card 활용 가능)