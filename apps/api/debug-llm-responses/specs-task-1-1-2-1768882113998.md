# 코드 사양 (Code Specification)

작성일: 2026. 1. 20.
아키텍트: Next.js 14+ Full-Stack Architect

---

## 개요
이 문서는 `task-1-1-2` (PokeAPI 데이터 페칭 유틸 함수 구현) 를 수행하기 위한 코드 사양을 명시합니다. PokeAPI(v2)의 엔드포인트를 호출하여 포켓몬 목록 데이터를 가져오는 로직을 `libs/utils/src/api.ts`에 구현하는 데 중점을 둡니다.

---

## 파일 사양

### 파일: libs/utils/src/api.ts
---
설명: PokeAPI(v2)와 통신하여 데이터를 가져오는 유틸리티 함수를 정의하는 모듈입니다. 타입스크립트 타입 안전성을 확보하고 외부 API 호출을 캡슐화합니다.

- **함수명**: `fetchPokemonList(offset: number, limit: number)`
- **기능**:
  - PokeAPI 기본 URL(`https://pokeapi.co/api/v2/`)을 사용하여 `pokemon` 엔드포인트를 호출합니다.
  - 쿼리 파라미터(`?offset={offset}&limit={limit}`)를 동적으로 구성하여 요청을 보냅니다.
  - `fetch` API(Web 표준 또는 Node.js polyfill)를 사용하여 비동기 HTTP GET 요청을 수행합니다.
  - 응답 데이터를 JSON 형식으로 파싱하여 반환합니다.
- **반환 타입**: `Promise<PokemonListResponse>`
  - `PokemonListResponse` 인터페이스는 `count`(전체 개수), `next`(다음 페이지 URL), `previous`(이전 페이지 URL), `results`(배열: `{ name, url }`) 속성을 포함해야 합니다.
- **에러 처리**:
  - 네트워크 오류 또는 HTTP 에러 발생 시 `Error` 객체를 throw 하여 호출한 곳에서 처리할 수 있도록 합니다.
- **구현 제약사항**:
  - 이 함수는 순수 데이터 페칭 로직만 수행하며, 비즈니스 로직(캐싱 등)은 포함하지 않습니다.
  - 환경 변수 등을 통해 API URL을 주입받을 수 있도록 구현하되, 기본값을 PokeAPI 공식 주소로 설정합니다.

### 파일: libs/utils/src/types.ts
---
설명: PokeAPI로부터 받아오는 데이터의 구조를 타입스크립트 인터페이스로 정의하는 파일입니다. (파일이 존재하지 않는 경우 생성하여 `api.ts`에서 import 하도록 명시)

- **인터페이스**: `PokemonListResult`
  - `name`: string (포켓몬 이름)
  - `url`: string (상세 정보 조회 URL)
- **인터페이스**: `PokemonListResponse`
  - `count`: number (전체 포켓몬 개수)
  - `next`: string | null (다음 페이지 URL)
  - `previous`: string | null (이전 페이지 URL)
  - `results`: PokemonListResult[] (포켓몬 요약 정보 배열)

---

## 기술적 참고 사항

1.  **타입 안전성**: `any` 타입 사용을 지양하고 위에서 정의한 인터페이스를 명시적으로 사용하여 반환값의 타입을 보장해야 합니다.
2.  **호환성**: Next.js 14+ 환경(서버 컴포넌트 및 서버 액션)에서 사용될 수 있으므로, 브라우저 전용 API에 의존하지 않고 Node.js 환경에서도 정상 작동하는 `fetch`를 사용해야 합니다.
3.  **코드 위치**: 프로젝트 구조상 `libs/utils` 패키지는 독립적인 유틸리티 영역이므로, Next.js 특정 기능(`useEffect` 등) 없이 순수 JS/TS 로직으로 작성되어야 합니다.