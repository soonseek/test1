```markdown
## 파일: src/types/pokemon.ts

```typescript
/**
 * PokeAPI v2 /pokemon 엔드포인트의 원본 응답 형식
 */
export interface PokeApiListResponse {
  count: number;
  next: string | null;
  previous: string | null;
  results: PokeApiResult[];
}

/**
 * 리스트 내 개별 아이템 형식
 */
export interface PokeApiResult {
  name: string;
  url: string;
}

/**
 * 클라이언트로 반환할 최종 데이터 형식
 * imageUrl은 ID를 기반으로 생성됩니다.
 * 공식 이미지 URL 포맷: https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/{id}.png
 */
export interface PokemonListItem {
  id: number;
  name: string;
  imageUrl: string;
}
```

## 파일: src/lib/api/pokemon.ts

```typescript
import { PokeApiListResponse, PokemonListItem } from '@/types/pokemon';

const POKEAPI_BASE_URL = 'https://pokeapi.co/api/v2';

/**
 * PokeAPI에서 포켓몬 목록을 가져와 가공합니다.
 * @param limit 가져올 항목의 수 (기본값: 20)
 * @param offset 건너뛸 항목의 수 (기본값: 0)
 * @returns 가공된 포켓몬 목록 배열
 */
export async function fetchPokemons(
  limit: number = 20,
  offset: number = 0
): Promise<PokemonListItem[]> {
  try {
    const response = await fetch(
      `${POKEAPI_BASE_URL}/pokemon?limit=${limit}&offset=${offset}`
    );

    if (!response.ok) {
      throw new Error(`PokeAPI fetch failed: ${response.statusText}`);
    }

    const data: PokeApiListResponse = await response.json();

    // 데이터 변환 로직
    const pokemons: PokemonListItem[] = data.results.map((item) => {
      // URL에서 ID 추출 (예: https://pokeapi.co/api/v2/pokemon/1/ -> 1)
      const idParts = item.url.split('/').filter(Boolean);
      const id = Number(idParts[idParts.length - 1]);

      // 공식 아트워크 이미지 URL 생성
      const imageUrl = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${id}.png`;

      return {
        id,
        name: item.name,
        imageUrl,
      };
    });

    return pokemons;
  } catch (error) {
    console.error('Error in fetchPokemons:', error);
    throw new Error('Failed to fetch pokemons');
  }
}
```

## 파일: src/app/api/pokemons/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { fetchPokemons } from '@/lib/api/pokemon';

export async function GET(request: NextRequest) {
  try {
    const searchParams = request.nextUrl.searchParams;

    // Query Parameter 파싱 및 숫자형 변환
    const limit = parseInt(searchParams.get('limit') || '20', 10);
    const offset = parseInt(searchParams.get('offset') || '0', 10);

    // 유효성 검사 (간단한 방어 로직)
    if (isNaN(limit) || isNaN(offset) || limit < 0 || offset < 0) {
      return NextResponse.json(
        { error: 'Invalid query parameters' },
        { status: 400 }
      );
    }

    const data = await fetchPokemons(limit, offset);

    // CORS 헤더 설정 (로컬 테스트 및 개발 환경 고려)
    const response = NextResponse.json(data);
    response.headers.set('Access-Control-Allow-Origin', '*');
    response.headers.set('Access-Control-Allow-Methods', 'GET, OPTIONS');
    
    return response;
  } catch (error) {
    console.error('API Route Error:', error);
    return NextResponse.json(
      { error: 'Internal Server Error' },
      { status: 500 }
    );
  }
}

// OPTIONS 메서드 핸들러 (Preflight 요청 대응)
export async function OPTIONS() {
  return new NextResponse(null, {
    status: 200,
    headers: {
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'GET, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type',
    },
  });
}
```

## 파일: src/app/api/pokemons/test/route.ts

```typescript
import { NextResponse } from 'next/server';

export async function GET() {
  try {
    // 내부 API 호출 (localhost:3000/api/pokemons)
    const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'http://localhost:3000';
    const apiUrl = `${baseUrl}/api/pokemons?limit=1`;

    const response = await fetch(apiUrl);
    if (!response.ok) {
      throw new Error(`Internal API call failed: ${response.statusText}`);
    }

    const data = await response.json();

    // 데이터 검증 로직
    if (!Array.isArray(data) || data.length === 0) {
      return NextResponse.json({ status: 'Fail', message: 'Empty or invalid response' });
    }

    const firstItem = data[0];
    const hasId = 'id' in firstItem && typeof firstItem.id === 'number';
    const hasName = 'name' in firstItem && typeof firstItem.name === 'string';
    const hasImageUrl = 'imageUrl' in firstItem && typeof firstItem.imageUrl === 'string';

    if (hasId && hasName && hasImageUrl) {
      return NextResponse.json({
        status: 'OK',
        message: 'Validation successful',
        sample: firstItem
      });
    } else {
      return NextResponse.json({
        status: 'Fail',
        message: 'Missing required fields',
        received: firstItem
      });
    }
  } catch (error) {
    return NextResponse.json({
      status: 'Fail',
      message: error instanceof Error ? error.message : 'Unknown error'
    });
  }
}
```

## 파일: .env.local

```bash
# PokeAPI Configuration
# PokeAPI는 별도의 인증 키가 필요하지 않습니다.
# 기본 URL을 명시적으로 설정하기 위해 사용합니다.
NEXT_PUBLIC_POKEAPI_BASE_URL=https://pokeapi.co/api/v2

# Site Configuration (내부 테스트 호출용)
NEXT_PUBLIC_SITE_URL=http://localhost:3000
```