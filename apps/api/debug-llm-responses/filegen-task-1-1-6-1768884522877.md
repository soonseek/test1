```markdown
## 파일: src/types/error.ts

```typescript
/**
 * API 에러 응답을 위한 인터페이스
 */
export interface ApiError {
  message: string;
  status?: number;
}
```

## 파일: src/lib/api/pokemon.ts

```typescript
/**
 * PokeAPI 호출 및 데이터 가공을 담당하는 코어 라이브러리
 */

export interface PokemonListItem {
  name: string;
  url: string;
}

export interface PokemonListResponse {
  count: number;
  next: string | null;
  previous: string | null;
  results: PokemonListItem[];
}

const POKEAPI_BASE_URL = 'https://pokeapi.co/api/v2';

/**
 * 포켓몬 리스트를 가져오는 함수
 * 네트워크 에러 및 5xx 서버 에러를 처리합니다.
 */
export async function fetchPokemonList(
  limit: number = 20,
  offset: number = 0
): Promise<PokemonListResponse> {
  try {
    const response = await fetch(
      `${POKEAPI_BASE_URL}/pokemon?limit=${limit}&offset=${offset}`,
      {
        // Next.js의 캐싱 전략 설정 (선택 사항)
        next: { revalidate: 60 },
      }
    );

    // PokeAPI 서버가 5xx 에러를 반환할 경우 감지
    if (!response.ok) {
      if (response.status >= 500) {
        throw new Error(`PokeAPI Server Error: ${response.status}`);
      }
      // 404 등 기타 에러도 상위 모듈로 전파하기 위해 throw
      throw new Error(`PokeAPI Request Failed: ${response.status}`);
    }

    const data: PokemonListResponse = await response.json();
    return data;
  } catch (error) {
    // 네트워크 연결 실패 또는 타임아웃 처리
    if (error instanceof TypeError) {
      // fetch는 네트워크 에러 발생 시 TypeError를 throw 함
      throw new Error('Network connection failed or timeout.');
    }
    
    // 그 외 에러 (상위 모듈로 전파)
    throw error;
  }
}
```

## 파일: src/app/api/pokemon/route.ts

```typescript
import { NextResponse } from 'next/server';
import { fetchPokemonList } from '@/lib/api/pokemon';
import { ApiError } from '@/types/error';

/**
 * 클라이언트의 요청을 받아 PokeAPI 데이터를 프록시하는 API Route
 */
export async function GET(request: Request) {
  try {
    const { searchParams } = new URL(request.url);
    const limit = Number(searchParams.get('limit')) || 20;
    const offset = Number(searchParams.get('offset')) || 0;

    const data = await fetchPokemonList(limit, offset);

    return NextResponse.json(data, { status: 200 });
  } catch (error) {
    console.error('API Route Error:', error);

    // 에러 타입별 상태 코드 반환 로직 구현
    if (error instanceof Error) {
      const errorMessage = error.message;

      // 404 Not Found: PokeAPI에서 데이터를 찾을 수 없을 때
      if (errorMessage.includes('404')) {
        const errorResponse: ApiError = {
          message: '요청하신 데이터를 찾을 수 없습니다.',
          status: 404,
        };
        return NextResponse.json(errorResponse, { status: 404 });
      }

      // 502 Bad Gateway: PokeAPI 호출 실패 또는 타임아웃
      if (
        errorMessage.includes('Network') ||
        errorMessage.includes('timeout') ||
        errorMessage.includes('500') || // PokeAPI 5xx 에러
        errorMessage.includes('502') ||
        errorMessage.includes('503')
      ) {
        const errorResponse: ApiError = {
          message: '외부 서버 연결에 실패했습니다. 잠시 후 다시 시도해주세요.',
          status: 502,
        };
        return NextResponse.json(errorResponse, { status: 502 });
      }
    }

    // 500 Internal Server Error: 예상치 못한 서버 사이드 로직 에러
    const errorResponse: ApiError = {
      message: '서버 내부 오류가 발생했습니다.',
      status: 500,
    };
    return NextResponse.json(errorResponse, { status: 500 });
  }
}
```

## 파일: src/app/page.tsx

```typescript
import { Suspense } from 'react';
import PokemonList from './components/PokemonList'; // 가정: 데이터를 가져오는 컴포넌트

/**
 * 메인 페이지 컴포넌트 (Server Component)
 */
export default function Home() {
  return (
    <main className="flex min-h-screen flex-col items-center justify-between p-24">
      <div className="z-10 max-w-5xl w-full items-center justify-between font-mono text-sm lg:flex">
        <h1 className="text-4xl font-bold">Pokédex</h1>
      </div>

      <div className="mb-32 grid text-center lg:max-w-5xl lg:w-full lg:mb-0 lg:grid-cols-4 lg:text-left gap-4">
        {/* 
           Server Component 내에서 직접 fetch를 수행하거나, 
           별도의 컴포넌트(Suspense 경계 내)에서 데이터를 가져옵니다.
           아래는 에러 처리가 포함된 예시 컴포넌트 사용입니다.
        */}
        <Suspense fallback={<div>Loading...</div>}>
          <PokemonList />
        </Suspense>
      </div>
    </main>
  );
}
```

## 파일: src/app/components/PokemonList.tsx

```typescript
/**
 * 예시 컴포넌트: 실제 데이터 fetching 및 에러 처리를 수행
 * (src/app/page.tsx에서 import 되어 사용됨을 가정)
 */
import { ApiError } from '@/types/error';

async function getData() {
  const res = await fetch('http://localhost:3000/api/pokemon');

  // API Route에서 반환한 에러 상태 코드 확인
  if (!res.ok) {
    // 에러 발생 시 error.tsx로 에러를 던짐
    const errorData: ApiError = await res.json();
    throw new Error(errorData.message || '데이터를 불러오는 데 실패했습니다.');
  }

  return res.json();
}

export default async function PokemonList() {
  try {
    const data = await getData();

    return (
      <div className="col-span-4">
        {data.results.map((pokemon: any) => (
          <div key={pokemon.name} className="p-4 border rounded">
            {pokemon.name}
          </div>
        ))}
      </div>
    );
  } catch (error) {
    // Server Component 내에서 잡히지 않은 에러는 closest error.tsx로 전파됩니다.
    // 여기서 간단히 메시지를 보여주고 싶다면 아래와 같이 처리할 수도 있습니다.
    if (error instanceof Error) {
      return (
        <div className="col-span-4 text-red-500">
          오류 발생: {error.message}
        </div>
      );
    }
    throw error;
  }
}
```

## 파일: src/app/error.tsx

```typescript
'use client'; // Error components must be Client Components

import { useEffect } from 'react';

/**
 * 전역 에러 처리를 위한 Error Boundary 컴포넌트
 */
export default function Error({
  error,
  reset,
}: {
  error: Error & { digest?: string };
  reset: () => void;
}) {
  useEffect(() => {
    // 에러 로깅 서비스로 에러 전송 (선택 사항)
    console.error('Global Error Captured:', error);
  }, [error]);

  return (
    <div className="flex flex-col items-center justify-center min-h-screen bg-gray-50">
      <div className="p-8 bg-white shadow-lg rounded-lg max-w-md w-full text-center">
        <h2 className="text-2xl font-bold text-red-600 mb-4">
          문제가 발생했습니다
        </h2>
        
        <p className="text-gray-700 mb-6">
          죄송합니다. 데이터를 불러오는 중 예기치 못한 오류가 발생했습니다.
          <br />
          {error.message && (
            <span className="text-sm text-gray-500 block mt-2">
              사유: {error.message}
            </span>
          )}
        </p>

        <button
          onClick={
            // 세그먼트를 다시 렌더링하여 복구를 시도합니다.
            () => reset()
          }
          className="px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"
        >
          다시 시도
        </button>
      </div>
    </div>
  );
}
```