# 코드 사양 (Code Specification)

**Task ID**: task-1-1-5
**제목**: API Route 응답 반환 구현

이 문서는 Next.js 14+ App Router 환경에서 PokeAPI의 데이터를 가져와 클라이언트에 제공하기 위해 생성 및 수정해야 할 파일들의 사양을 정의합니다.

---

### 파일: src/types/pokemon.ts
---
설명: 포켓몬 데이터의 형태를 정의하는 TypeScript 인터페이스 모음입니다. API 응답과 내부 처리 로직 모두에서 사용됩니다.
- **PokeApiRawListResponse**: PokeAPI v2의 `/pokemon` 엔드포인트가 반환하는 원본 JSON 구조 정의 (`count`, `next`, `previous`, `results` 포함)
- **PokeApiListItem**: `results` 배열 내부의 아이템 구조 정의 (`name`, `url` 포함)
- **PokemonListItem**: 클라이언트로 반환할 최종 데이터 형태 정의 (`id`, `name`, `url` 포함)

### 파일: src/lib/api/pokemon.ts
---
설명: PokeAPI와의 통신 및 데이터 변환을 담당하는 서버 사이드 유틸리티 함수입니다.
- **fetchPokemonList**: 비동기 함수로 PokeAPI(`https://pokeapi.co/api/v2/pokemon`)에 GET 요청을 보냅니다.
- **transformPokemonData**: 원본 데이터(`PokeApiRawListResponse`)를 받아 클라이언트가 필요로 하는 형태(`PokemonListItem[]`)로 매핑합니다.
  - URL에서 ID를 추출하는 로직 포함 (예: `url`에서 숫자 ID 파싱)
- Next.js 내장 `fetch`를 사용하며, 요청 실패 시 에러를 던집니다.

### 파일: src/app/api/pokemon/route.ts
---
설명: 클라이언트의 요청을 받고 처리하는 API Route 핸들러입니다. (이번 Task의 핵심 파일)
- **GET 함수**: `NextResponse`를 사용하여 JSON 응답을 반환합니다.
- 로직 흐름:
  1. `fetchPokemonList()` 호출하여 외부 데이터 가져오기
  2. `transformPokemonData()` 호출하여 데이터 가공
  3. 가공된 데이터와 함께 `NextResponse.json()`을 사용해 200 OK 상태 코드와 함께 반환
  4. 에러 발생 시 적절한 HTTP 에러 코드(500 등)와 에러 메시지 반환

### 파일: src/app/page.tsx
---
설명: 포켓몬 목록을 시각화하는 메인 페이지 컴포넌트입니다. (API 연동 테스트용)
- **Server Component**로 동작하며, `route.ts`에서 정의한 API 엔드포인트(`/api/pokemon`)를 호출합니다.
- 받아온 JSON 데이터를 기반으로 `shadcn/ui`의 Card 컴포넌트를 사용해 목록을 렌더링합니다.
- 데이터 로딩 중일 때의 로딩 상태(UI)를 정의합니다.