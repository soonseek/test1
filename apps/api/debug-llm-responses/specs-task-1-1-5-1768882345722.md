# 코드 사양 (Code Specification)

**Task ID**: task-1-1-5
**제목**: API Route 쿼리 파라미터 검증 로직 추가

이 사양은 Next.js API Routes에서 `offset`과 `limit` 쿼리 파라미터를 안전하게 처리하기 위한 로직을 정의합니다. 잘못된 타입의 값이나 누락된 값으로 인해 발생할 수 있는 오류를 방지하고, 일관된 페이징 인터페이스를 제공합니다.

---

### 파일: src/lib/utils/validation.ts
---
설명: API Route로 전달되는 쿼리 파라미터의 유효성을 검사하고 정규화하는 유틸리티 함수 모음
- `parsePaginationParams` 함수 구현:
  - `searchParams` 객체를 받아서 `offset`과 `limit` 값을 추출
  - **타입 검증**: 문자열을 숫자로 변환하며, `NaN`인 경우 기본값으로 대체
  - **기본값 설정**:
    - `limit`: 기본값 `20` (PRD 및 Task 요구사항)
    - `offset`: 기본값 `0`
  - **범위 제한 (Safety)**: `limit`이 너무 클 경우(예: 100 초과) 서버 과부하를 방지하기 위해 최대값(예: 100)으로 강제 설정
  - 반환 타입: `{ limit: number; offset: number }`

### 파일: src/app/api/pokemon/route.ts
---
설명: 포켓몬 목록 조회 API 엔드포인트 (`GET /api/pokemon`)
- `GET` 핸들러 내부에서 `searchParams` 추출
- `src/lib/utils/validation`의 `parsePaginationParams` 함수 호출하여 검증된 파라미터 획득
- 검증된 파라미터를 PokeAPI 호출 로직(또는 DB 쿼리)에 전달
- 잘못된 파라미터로 인한 400/500 에러를 사전에 방지하고 200 OK 응답 유지