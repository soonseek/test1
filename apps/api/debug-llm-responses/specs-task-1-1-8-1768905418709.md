# 코드 사양 (Code Specification)

**Task ID**: task-1-1-8
**주제**: PokeAPI 데이터 캐싱 설정 (Next.js Fetch ISR)

Next.js 14+ App Router 환경에서 `fetch` 함수의 `next.revalidate` 옵션을 활용하여 ISR(Incremental Static Regeneration) 전략을 적용하고, PokeAPI의 데이터를 1시간(3600초) 동안 캐싱하도록 설정하는 사양입니다.

---

### 파일: `src/lib/api/pokemon.ts`
---
설명: PokeAPI v2 엔드포인트와 통신하여 데이터를 가져오는 비즈니스 로직을 담당하는 모듈입니다. Next.js의 내장된 `fetch` 확장 기능을 사용하여 캐싱 전략을 적용합니다.
- `fetchPokeAPI` 헬퍼 함수를 정의하여 `fetch` 호출을 캡슐화합니다.
- `fetch`의 두 번째 인자로 `next: { revalidate: 3600 }` 옵션을 전달하여 데이터를 1시간 동안 캐싱하도록 설정합니다 (ISR 전략).
- `GET /api/v2/pokemon` 엔드포인트를 호출하여 포켓몬 리스트 데이터를 반환하는 `getPokemonList` 함수를 구현합니다.
- 응답 데이터의 JSON 파싱 및 에러 핸들링을 수행합니다.

### 파일: `src/types/pokemon.ts`
---
설명: PokeAPI로부터 받아오는 데이터의 형태를 보장하기 위한 TypeScript 인터페이스 정의 파일입니다.
- PokeAPI의 JSON 구조에 맞춰 `PokemonListResponse`, `PokemonListItem`, `NamedAPIResource` 인터페이스를 정의합니다.
- API 호출 함수의 반환 타입으로 사용되어 타입 안전성을 확보합니다.

### 파일: `src/app/api/pokemon/route.ts`
---
설명: 클라이언트의 요청을 받아 서버 사이드에서 데이터를 가공하여 제공하는 Next.js API Route(선택 사항) 또는, 이 로직을 직접 사용하는 Server Component용 데이터 소스입니다. 본 Task의 핵심은 캐싱 로직이므로, 이 파일이 `lib/api/pokemon.ts`의 캐싱된 함수를 호출하는 역할을 명시합니다.
- (Route Handler로 사용할 경우) `GET` 핸들러 내부에서 `getPokemonList`를 호출합니다.
- Next.js 서버(또는 Edge 런타임) 환경에서 실행되므로 `fetch`의 캐싱 메커니즘이 정상 작동함을 보장합니다.

### 파일: `src/app/page.tsx`
---
설명: 포켓몬 목록을 실제로 렌더링하는 페이지 컴포넌트입니다. Server Component로 동작하며 초기 데이터 로딩을 담당합니다.
- 컴포넌트 최상단에서 `getPokemonList` 함수를 호출하여 데이터를 가져옵니다.
- 가져온 데이터를 기반으로 `shadcn/ui`의 Card 컴포넌트 등을 사용하여 UI를 구성합니다.
- ISR이 적용되었으므로, 빌드 시점 또는 이전 요청으로부터 1시간이 경과하지 않았다면 캐싱된 데이터를 즉시 반환합니다.