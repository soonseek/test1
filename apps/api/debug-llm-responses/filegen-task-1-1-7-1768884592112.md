```markdown
## 파일: src/types/pokemon.ts

```typescript
/**
 * PokeAPI 리스트 응답의 개별 항목 형식
 */
export interface PokeApiListItem {
  name: string;
  url: string;
}

/**
 * PokeAPI 리스트 응답 전체 형식
 */
export interface PokeApiListResponse {
  count: number;
  next: string | null;
  previous: string | null;
  results: PokeApiListItem[];
}

/**
 * 클라이언트로 반환할 최종 포켓몬 아이템 형식
 */
export interface PokemonListItem {
  id: number;
  name: string;
  imageUrl: string;
}

/**
 * 우리 애플리케이션 API Route가 반환하는 JSON 구조
 */
export interface PokemonListResponse {
  results: PokemonListItem[];
  count: number;
  next: string | null;
  previous: string | null;
}
```

## 파일: src/lib/api/pokemon.ts

```typescript
import { PokeApiListResponse, PokemonListResponse } from '@/types/pokemon';

const POKEAPI_BASE_URL = 'https://pokeapi.co/api/v2/pokemon';

/**
 * PokeAPI에서 포켓몬 리스트를 가져와서 가공하는 함수
 * @param limit 가져올 아이템 개수
 * @param offset 시작 위치
 */
export async function fetchPokemonList(
  limit: number = 20,
  offset: number = 0
): Promise<PokemonListResponse> {
  const url = `${POKEAPI_BASE_URL}?limit=${limit}&offset=${offset}`;

  const response = await fetch(url);

  if (!response.ok) {
    throw new Error(`PokeAPI fetch failed: ${response.status} ${response.statusText}`);
  }

  const data: PokeApiListResponse = await response.json();

  // 데이터 변환 로직
  const results = data.results.map((item) => {
    // URL에서 ID 추출 (예: https://pokeapi.co/api/v2/pokemon/1/ -> 1)
    const id = extractIdFromUrl(item.url);
    
    // 공식 아트워크 이미지 URL 생성
    const imageUrl = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${id}.png`;

    return {
      id,
      name: item.name,
      imageUrl,
    };
  });

  return {
    results,
    count: data.count,
    next: data.next,
    previous: data.previous,
  };
}

/**
 * PokeAPI URL에서 ID를 추출하는 헬퍼 함수
 */
function extractIdFromUrl(url: string): number {
  const urlParts = url.split('/').filter(Boolean); // 빈 문자열 제거
  const idString = urlParts[urlParts.length - 1]; // URL의 마지막 부분이 ID
  return parseInt(idString, 10);
}
```

## 파일: src/app/api/pokemons/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { fetchPokemonList } from '@/lib/api/pokemon';

export async function GET(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    
    // 쿼리 파라미터 파싱 및 기본값 설정
    const limitParam = searchParams.get('limit');
    const offsetParam = searchParams.get('offset');

    const limit = limitParam ? parseInt(limitParam, 10) : 20;
    const offset = offsetParam ? parseInt(offsetParam, 10) : 0;

    // 데이터 패칭
    const data = await fetchPokemonList(limit, offset);

    // JSON 응답 반환
    return NextResponse.json(data, {
      status: 200,
      headers: {
        // 필요한 경우 CORS 헤더 추가
        'Access-Control-Allow-Origin': '*',
        'Access-Control-Allow-Methods': 'GET, OPTIONS',
      },
    });
  } catch (error) {
    console.error('API Error:', error);
    
    const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';
    
    return NextResponse.json(
      { error: errorMessage },
      { status: 500 }
    );
  }
}

// OPTIONS 메서드 핸들러 (CORS Preflight 대응)
export async function OPTIONS() {
  return new NextResponse(null, {
    status: 204,
    headers: {
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'GET, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type',
    },
  });
}
```

## 파일: src/app/api/pokemons/test/route.ts

```typescript
import { NextResponse } from 'next/server';

export async function GET() {
  const html = `
    <!DOCTYPE html>
    <html lang="ko">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Pokemon API Test</title>
      <style>
        body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; background: #0070f3; color: white; border: none; border-radius: 5px; }
        button:hover { background: #0051b3; }
        #result { margin-top: 20px; border: 1px solid #ccc; padding: 10px; background: #f9f9f9; white-space: pre-wrap; word-break: break-all; max-height: 500px; overflow-y: auto; }
        .card-container { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 20px; }
        .card { border: 1px solid #ddd; padding: 10px; border-radius: 8px; text-align: center; width: 100px; }
        .card img { width: 80px; height: 80px; object-fit: contain; }
      </style>
    </head>
    <body>
      <h1>Pokemon API Local Test</h1>
      <p>Click the button below to test the API endpoint.</p>
      
      <div>
        <label>Limit: <input type="number" id="limit" value="20" style="width: 50px;"></label>
        <label>Offset: <input type="number" id="offset" value="0" style="width: 50px;"></label>
        <button onclick="testApi()">Fetch Data</button>
      </div>

      <h3>JSON Response:</h3>
      <div id="result">Waiting for request...</div>

      <h3>Visual Preview:</h3>
      <div id="visual" class="card-container"></div>

      <script>
        async function testApi() {
          const limit = document.getElementById('limit').value;
          const offset = document.getElementById('offset').value;
          const resultDiv = document.getElementById('result');
          const visualDiv = document.getElementById('visual');
          
          const url = \`/api/pokemons?limit=\${limit}&offset=\${offset}\`;
          
          resultDiv.textContent = 'Loading...';
          visualDiv.innerHTML = '';

          try {
            const response = await fetch(url);
            const data = await response.json();

            // 콘솔 로그 출력
            console.log('API Response:', data);

            // JSON 결과 출력
            resultDiv.textContent = JSON.stringify(data, null, 2);

            // 시각적 미리보기 생성
            if (data.results && Array.isArray(data.results)) {
              data.results.forEach(pokemon => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = \`
                  <img src="\${pokemon.imageUrl}" alt="\${pokemon.name}" loading="lazy">
                  <div><strong>#\${pokemon.id}</strong></div>
                  <div>\${pokemon.name}</div>
                \`;
                visualDiv.appendChild(card);
              });
            }
          } catch (error) {
            console.error('Error:', error);
            resultDiv.textContent = 'Error: ' + error.message;
          }
        }
      </script>
    </body>
    </html>
  `;

  return new NextResponse(html, {
    status: 200,
    headers: {
      'Content-Type': 'text/html; charset=utf-8',
    },
  });
}
```

## 파일: .env.local

```bash
# PokeAPI 기본 URL
# (코드 내에서 상수로 사용하지만, 환경 변수로 분리하여 관리할 경우 사용)
NEXT_PUBLIC_POKEAPI_BASE_URL=https://pokeapi.co/api/v2/pokemon
```