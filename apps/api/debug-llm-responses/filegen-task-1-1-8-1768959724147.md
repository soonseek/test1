```markdown
## 파일: src/types/pokemon.ts

```typescript
/**
 * PokeAPI 리스트 응답 형식
 * https://pokeapi.co/api/v2/pokemon?limit=20
 */
export interface PokemonListResponse {
  count: number;
  next: string | null;
  previous: string | null;
  results: PokemonListItem[];
}

/**
 * PokeAPI 리스트 내 개별 아이템 형식
 */
export interface PokemonListItem {
  name: string;
  url: string;
}

/**
 * 클라이언트에게 최종적으로 반환할 데이터 형식
 */
export interface Pokemon {
  id: number;
  name: string;
  imageUrl: string;
}

/**
 * URL에서 ID를 추출하는 유틸리티 함수
 * 예: "https://pokeapi.co/api/v2/pokemon/1/" -> 1
 */
export function extractIdFromUrl(url: string): number {
  const urlParts = url.split('/').filter(part => part !== '');
  // URL 구조: .../pokemon/{id}/
  const idString = urlParts[urlParts.length - 1];
  return parseInt(idString, 10);
}

/**
 * 포켓몬 ID를 기반으로 공식 아트워크 이미지 URL을 생성합니다.
 */
export function getPokemonImageUrl(id: number): string {
  return `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${id}.png`;
}
```

## 파일: src/lib/api/pokeapi.ts

```typescript
import { PokemonListResponse, Pokemon, extractIdFromUrl, getPokemonImageUrl } from '@/types/pokemon';

const POKEAPI_BASE_URL = 'https://pokeapi.co/api/v2';

/**
 * PokeAPI에서 포켓몬 리스트를 가져와 변환합니다.
 * @param limit 가져올 아이템 개수
 * @param offset 시작 위치
 */
export async function fetchPokemonList(limit: number = 20, offset: number = 0): Promise<Pokemon[]> {
  try {
    const searchParams = new URLSearchParams({
      limit: limit.toString(),
      offset: offset.toString(),
    });

    const response = await fetch(`${POKEAPI_BASE_URL}/pokemon?${searchParams}`, {
      // Next.js 캐싱 전략: 데이터가 변하지 않으므로 긴 시간 동안 캐시
      next: { revalidate: 3600 }, 
    });

    if (!response.ok) {
      throw new Error(`PokeAPI fetch failed: ${response.statusText}`);
    }

    const data: PokemonListResponse = await response.json();

    // 데이터 변환 (Transform): PokeAPI 형식 -> 애플리케이션 형식
    const transformedData: Pokemon[] = data.results.map((item) => {
      const id = extractIdFromUrl(item.url);
      return {
        id,
        name: item.name,
        imageUrl: getPokemonImageUrl(id),
      };
    });

    return transformedData;
  } catch (error) {
    console.error('Error in fetchPokemonList:', error);
    // 에러 발생 시 빈 배열 반환 또는 에러 throw (여기서는 빈 배열 반환으로 안전장치)
    return [];
  }
}
```

## 파일: src/app/api/pokemons/route.ts

```typescript
import { NextResponse } from 'next/server';
import { fetchPokemonList } from '@/lib/api/pokeapi';

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  
  // 쿼리 파라미터 처리 및 기본값 설정
  const limit = Number(searchParams.get('limit')) || 20;
  const offset = Number(searchParams.get('offset')) || 0;

  // 데이터 페칭
  const pokemons = await fetchPokemonList(limit, offset);

  // JSON 응답 반환
  return NextResponse.json(pokemons, {
    status: 200,
    headers: {
      // 필요한 경우 CORS 헤더 추가 (로컬 개발 환경 등)
      // 'Access-Control-Allow-Origin': '*',
      'Content-Type': 'application/json',
    },
  });
}
```

## 파일: src/app/page.tsx

```tsx
import React from 'react';

// API 로컬 테스트 및 데이터 검증을 위한 페이지 컴포넌트
export default async function HomePage() {
  // 서버 사이드에서 직접 API 호출 테스트
  const res = await fetch('http://localhost:3000/api/pokemons', {
    cache: 'no-store', // 테스트 시 항상 최신 데이터 확인
  });

  if (!res.ok) {
    return <div className="p-10 text-red-500">API 호출 실패: {res.statusText}</div>;
  }

  const data = await res.json();

  // 데이터 개수 검증 로그 (서버 콘솔 출력)
  console.log(`[Data Validation] Received ${data.length} items.`);
  console.log('[Data Validation] First Item:', data[0]);

  return (
    <main className="min-h-screen p-8 bg-gray-50">
      <div className="max-w-4xl mx-auto space-y-6">
        <h1 className="text-2xl font-bold">API 로컬 테스트 및 데이터 검증</h1>
        
        <div className="bg-white p-4 rounded shadow border">
          <h2 className="text-lg font-semibold mb-2">검증 결과</h2>
          <ul className="list-disc pl-5 space-y-1">
            <li>총 데이터 개수: <span className="font-bold">{data.length}</span> (목표: 20개)</li>
            <li>데이터 형식: Array&lt;Pokemon&gt;</li>
            <li>상태: {data.length === 20 ? <span className="text-green-600">성공</span> : <span className="text-red-600">실패</span>}</li>
          </ul>
        </div>

        <div className="bg-white p-4 rounded shadow border">
          <h2 className="text-lg font-semibold mb-2">데이터 미리보기 (JSON)</h2>
          <pre className="bg-gray-100 p-4 rounded text-xs overflow-auto max-h-96">
            {JSON.stringify(data, null, 2)}
          </pre>
        </div>

        <div className="bg-white p-4 rounded shadow border">
          <h2 className="text-lg font-semibold mb-4">이미지 URL 렌더링 테스트</h2>
          <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
            {data.slice(0, 4).map((pokemon: any) => (
              <div key={pokemon.id} className="border rounded p-2 flex flex-col items-center">
                <img 
                  src={pokemon.imageUrl} 
                  alt={pokemon.name} 
                  className="w-24 h-24 object-contain mb-2"
                />
                <span className="text-sm font-medium">No. {pokemon.id}</span>
                <span className="text-sm capitalize">{pokemon.name}</span>
              </div>
            ))}
          </div>
        </div>
      </div>
    </main>
  );
}
```

## 파일: src/lib/utils.ts

```typescript
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
```