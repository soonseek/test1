```markdown
## 파일: src/types/pokemon.ts

```typescript
/**
 * PokeAPI 리스트 응답 형태
 */
export interface PokeApiListResponse {
  count: number;
  next: string | null;
  previous: string | null;
  results: PokemonListItem[];
}

/**
 * PokeAPI results 배열 내부의 개별 항목 형태
 */
export interface PokemonListItem {
  name: string;
  url: string;
}

/**
 * 포켓몬 상세 정보 타입 (향후 확장 대비)
 */
export interface PokemonDetail {
  id: number;
  name: string;
  types: {
    slot: number;
    type: {
      name: string;
      url: string;
    };
  }[];
  abilities: {
    ability: {
      name: string;
      url: string;
    };
  }[];
  sprites: {
    front_default: string;
  };
}

/**
 * DB에 저장할 캐시 데이터의 JSON 형태
 */
export type PokemonCacheData = PokeApiListResponse;
```

## 파일: src/lib/prisma.ts

```typescript
import { PrismaClient } from '@prisma/client';

const globalForPrisma = globalThis as unknown as {
  prisma: PrismaClient | undefined;
};

export const prisma =
  globalForPrisma.prisma ??
  new PrismaClient({
    log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],
  });

if (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;
```

## 파일: src/lib/api/pokemon.ts

```typescript
import { prisma } from '@/lib/prisma';
import { PokeApiListResponse, PokemonCacheData } from '@/types/pokemon';

const POKEAPI_BASE_URL = 'https://pokeapi.co/api/v2';

/**
 * 포켓몬 리스트를 가져오는 함수 (Cache-Aside Pattern)
 * 1. DB를 먼저 조회하고, 데이터가 있으면 반환한다.
 * 2. DB에 데이터가 없거나 오래된 경우, 외부 API를 호출한다.
 * 3. 외부 API 호출 성공 시, DB에 캐싱한다.
 */
export async function fetchPokemonList(offset: number = 0, limit: number = 20): Promise<PokeApiListResponse> {
  const cacheId = `pokemon-list-${offset}-${limit}`;

  try {
    // 1. 캐시 조회 시도
    const cachedData = await prisma.pokemonCache.findUnique({
      where: { id: cacheId },
    });

    // 캐시 히트 시 데이터 반환
    if (cachedData) {
      // 캐시 유효기간 로직이 필요하다면 여기서 추가 (예: createdAt 확인)
      return cachedData.data as PokeApiListResponse;
    }

    // 2. 캐시 미스 시 외부 API 호출
    const response = await fetch(`${POKEAPI_BASE_URL}/pokemon?offset=${offset}&limit=${limit}`);
    
    if (!response.ok) {
      throw new Error(`PokeAPI fetch failed: ${response.statusText}`);
    }

    const data: PokeApiListResponse = await response.json();

    // 3. DB에 캐싱 (Upsert)
    await prisma.pokemonCache.upsert({
      where: { id: cacheId },
      update: {
        data: data as PokemonCacheData,
        updatedAt: new Date(),
      },
      create: {
        id: cacheId,
        data: data as PokemonCacheData,
      },
    });

    return data;
  } catch (error) {
    console.error('Error in fetchPokemonList:', error);
    throw error;
  }
}
```

## 파일: src/app/api/pokemon/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { fetchPokemonList } from '@/lib/api/pokemon';

export async function GET(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    
    // 쿼리 파라미터 파싱 및 기본값 설정
    const offsetParam = searchParams.get('offset');
    const limitParam = searchParams.get('limit');

    const offset = offsetParam ? parseInt(offsetParam, 10) : 0;
    const limit = limitParam ? parseInt(limitParam, 10) : 20;

    // 간단한 검증 로직
    if (isNaN(offset) || isNaN(limit) || offset < 0 || limit < 0) {
      return NextResponse.json(
        { error: 'Invalid query parameters. offset and limit must be positive integers.' },
        { status: 400 }
      );
    }

    // 데이터 페칭
    const data = await fetchPokemonList(offset, limit);

    // 응답 반환
    return NextResponse.json(data, {
      status: 200,
      headers: {
        'Content-Type': 'application/json',
        // 필요한 경우 CORS 헤더 추가
        // 'Access-Control-Allow-Origin': '*',
      },
    });
  } catch (error) {
    console.error('API Route Error:', error);
    return NextResponse.json(
      { error: 'Internal Server Error' },
      { status: 500 }
    );
  }
}
```

## 파일: prisma/schema.prisma

```prisma
// Prisma Schema 파일

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model PokemonCache {
  id        String   @id
  data      Json     // PokeAPI 응답 전체를 JSON으로 저장
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("pokemon_cache")
}
```

## 파일: src/app/api/pokemon/test.http

```http
### 포켓몬 리스트 조회 (기본)
GET http://localhost:3000/api/pokemon?offset=0&limit=20

### 포켓몬 리스트 조회 (페이지네이션 테스트)
GET http://localhost:3000/api/pokemon?offset=20&limit=10

### 잘못된 파라미터 테스트 (400 에러 기대)
GET http://localhost:3000/api/pokemon?offset=-1&limit=abc

###
# 캐싱 동작 확인 가이드:
# 1. 첫 번째 요청을 보냅니다. (응답 속도 측정)
# 2. 데이터베이스(PokemonCache 테이블)에 데이터가 생성되었는지 확인합니다.
# 3. 즉시 두 번째 요청을 보냅니다. (캐시된 데이터이므로 더 빠를 것입니다)
# 4. Prisma Studio나 DB 쿼리 툴을 통해 updatedAt이 갱신되는지 확인하세요.
```