# 코드 사양 (Code Specification)

**Task ID**: task-1-1-5
**제목**: API Route 응답 반환 구현

이 문서는 Next.js 14+ App Router 환경에서 PokeAPI의 데이터를 프록시하고 클라이언트에 제공하기 위해 필요한 파일 구조와 각 파일의 역할을 정의합니다.

---

### 파일: src/types/pokemon.ts
---
설명: 포켓몬 데이터의 형태를 정의하는 TypeScript 인터페이스 모음입니다. API 응답과 컴포넌트에서 사용할 타입을 보장합니다.
- **PokeApiRawListResponse**: PokeAPI v2 `/pokemon` 엔드포인트의 원본 응답 형식 (`count`, `next`, `previous`, `results[]`) 정의
- **PokemonListItem**: 클라이언트에 최종적으로 반환할 간소화된 데이터 형식 (`id`, `name`, `url`) 정의
- 모든 속성은 필수(required)로 처리하거나 적절한 null 처리 규칙을 가짐

### 파일: src/lib/api/pokemon.ts
---
설명: 외부 API(PokeAPI)와의 통신을 담당하는 서버 사이드 유틸리티 함수입니다.
- **fetchPokemonList**: 비동기 함수로 PokeAPI의 `https://pokeapi.co/api/v2/pokemon` 엔드포인트에 GET 요청을 수행
- Next.js 내장 `fetch` API 사용 (캐싱 전략 포함)
- 받아온 JSON 데이터의 `results` 배열을 순회하며 URL에서 ID를 파싱하는 로직 포함
- 에러 발생 시 Error 객체를 throw하여 API Route에서 처리할 수 있도록 함

### 파일: src/app/api/pokemon/route.ts
---
설명: 클라이언트의 요청을 받아 실제 비즈니스 로직을 수행하고 JSON을 반환하는 API Route 핸들러입니다.
- **GET 함수**: HTTP GET 요청을 처리하는 비동기 함수
- `try/catch` 블록을 사용하여 에러 핸들링 (500 Internal Server Error 반환)
- `lib/api/pokemon.ts`의 `fetchPokemonList` 호출
- 성공 시 `NextResponse.json()`을 사용하여 200 OK 상태 코드와 함께 데이터 반환
- 응답 헤더에 `Content-Type: application/json` 명시 (Next.js 기본 동작)

### 파일: src/app/page.tsx
---
설명: 포켓몬 목록을 시각화하는 메인 페이지 컴포넌트입니다 (구현 확인용).
- Server Component로 동작
- `fetch('http://localhost:3000/api/pokemon')` 또는 내부 함수 호출을 통해 데이터 획득
- 데이터 로딩 중일 때 로딩 상태 표시 (선택 사항)
- 가져온 데이터를 기반으로 `PokemonCard` 컴포넌트 렌더링

### 파일: src/components/PokemonCard.tsx
---
설명: 개별 포켓몬 정보를 표시하는 UI 컴포넌트입니다.
- `name` (string), `url` (string) 또는 `id` (number)를 props로 받음
- shadcn/ui의 `Card` 컴포넌트를 기반으로 스타일링
- 포켓몬 이미지는 `raw.githubusercontent.com` 등의 소스를 ID를 조합하여 표시
- 카드 클릭 시 상세 페이지로 이동하는 `<Link>` 태그 포함