```markdown
## 파일: prisma/schema.prisma

```prisma
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// FR-004: 좋아요 기능을 위한 사용자 모델
model User {
  id         String     @id @default(uuid())
  deviceId   String     @unique // 익명 사용자 식별용
  favorites  Favorite[]
  createdAt  DateTime   @default(now())
}

// FR-004: 좋아요 기능을 위한 즐겨찾기 모델
model Favorite {
  id        String   @id @default(uuid())
  userId    String
  pokemonId Int
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())

  // 중복 좋아요 방지 복합 유니크 제약조건
  @@unique([userId, pokemonId])
}

// FR-005: 캐싱을 위한 포켓몬 데이터 모델
model PokemonCache {
  id        Int      @id // 포켓몬 번호 (ID)
  data      Json     // PokeAPI 응답 전체 데이터
  types     String[] // 검색/필터링을 위한 타입 정보 분리 저장
  updatedAt DateTime @updatedAt
}
```

## 파일: src/lib/prisma.ts

```typescript
import { PrismaClient } from '@prisma/client';

const globalForPrisma = globalThis as unknown as {
  prisma: PrismaClient | undefined;
};

export const prisma = globalForPrisma.prisma ?? new PrismaClient();

if (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;
```

## 파일: .env

```env
# Database
DATABASE_URL="postgresql://user:password@localhost:5432/pokedex?schema=public"
```

## 파일: .gitignore

```gitignore
# dependencies
/node_modules
/.pnp
.pnp.js

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# local env files - **보안을 위해 .env 파일 제외**
.env*.local
.env

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts
```

## 파일: prisma/migrations/20240120_init_schema/migration.sql

```sql
-- CreateEnum
-- Note: Types are stored as String array in schema, handled via text/array in Postgres

-- CreateTable
CREATE TABLE "User" (
    "id" TEXT NOT NULL,
    "deviceId" TEXT NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "User_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "Favorite" (
    "id" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "pokemonId" INTEGER NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "Favorite_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "PokemonCache" (
    "id" INTEGER NOT NULL,
    "data" JSONB NOT NULL,
    "types" TEXT[],
    "updatedAt" TIMESTAMP(3) NOT NULL,

    CONSTRAINT "PokemonCache_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "User_deviceId_key" ON "User"("deviceId");

-- CreateIndex
CREATE UNIQUE INDEX "Favorite_userId_pokemonId_key" ON "Favorite"("userId", "pokemonId");

-- AddForeignKey
ALTER TABLE "Favorite" ADD CONSTRAINT "Favorite_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE;
```