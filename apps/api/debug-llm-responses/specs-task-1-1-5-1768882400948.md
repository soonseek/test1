# 코드 사양 (Code Specification)

**Task ID**: task-1-1-5
**제목**: API Route 쿼리 파라미터 검증 로직 추가

이 사양은 Next.js API Routes에서 `offset` 및 `limit` 쿼리 파라미터를 처리하기 위한 견고한 검증 및 기본값 설정 로직을 정의합니다.

---

### 파일: src/lib/utils/validation.ts
---
설명: API Route 핸들러에서 사용할 쿼리 파라미터 검증 및 변환 유틸리티 함수 모음
- `parsePaginationParams` 함수를 export
- 인자로 `searchParams`(또는 쿼리 객체)를 받음
- **limit 검증**:
  - 값이 없거나 숫자가 아니면 기본값 `20` 반환
  - 최대값 제한 (예: `100`)을 초과할 경우 최대값으로 강제 설정
- **offset 검증**:
  - 값이 없거나 숫자가 아니면 기본값 `0` 반환
  - 음수일 경우 `0`으로 처리
- 반환 타입: `{ limit: number; offset: number }`

### 파일: src/app/api/pokemon/route.ts
---
설명: 포켓몬 목록 조회 API 엔드포인트 (GET)
- `GET` 요청 핸들러 구현
- `searchParams`에서 `offset`, `limit` 값 추출
- `src/lib/utils/validation`의 `parsePaginationParams` 함수 호출하여 파라미터 정제
- 검증된 파라미터를 사용하여 PokeAPI 또는 DB 조회 로직 호출 (향후 구현될 로직에 전달)
- 잘못된 타입의 입력이 들어왔을 때 400 Bad Request 응답 대신, 자정(Correction)된 기본값을 사용하여 정상 응답 처리 (Fail-soft)
- 응답 본문에 현재 페이지 정보(meta)를 포함하여 클라이언트가 다음 요청에 사용할 수 있도록 구성

### 파일: src/types/api.ts
---
설명: API 요청 및 응답 데이터 구조에 대한 타입 정의
- `PokemonListQueryParams` 인터페이스 정의 (선택 사항이지만 명시성을 위해 권장)
  - `limit?: string | string[] | undefined`
  - `offset?: string | string[] | undefined`
- `PaginationParams` 인터페이스 정의
  - `limit: number`
  - `offset: number`