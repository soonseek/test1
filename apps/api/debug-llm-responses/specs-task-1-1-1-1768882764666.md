# 코드 사양 (Code Specification)

**Task ID**: task-1-1-1
**작성자**: Next.js 14+ Full-Stack Architect

---

### 파일: `src/types/pokemon.ts`
---
설명: PokeAPI v2의 응답 데이터 구조와 매핑되는 TypeScript 인터페이스를 정의합니다. 이 타입은 클라이언트 컴포넌트와 서버 액션, API Route 모두에서 사용됩니다.
- **IPokemonListItem**: PokeAPI 리스트 내 개별 항목의 타입 정의
  - `name`: string (포켓몬 이름, 예: 'bulbasaur')
  - `url`: string (상세 정보 API URL)
- **IPokemonListResponse**: PokeAPI 리스트 전체 응답의 타입 정의
  - `count`: number (전체 포켓몬 개수)
  - `next`: string | null (다음 페이지 URL)
  - `previous`: string | null (이전 페이지 URL)
  - `results`: IPokemonListItem[] (포켓몬 배열)
- **IPokemon**: (선택 사항) 향후 상세 조회 구현을 대비한 기본 타입 정의
  - `id`: number
  - `name`: string
  - `types`: array
  - `sprites`: object

### 파일: `src/lib/utils/pokemon.ts`
---
설명: 포켓몬 데이터 처리를 위한 유틸리티 함수를 모아둔 모듈입니다.
- **extractPokemonId**: URL에서 ID를 추출하는 유틸리티 함수
  - 입력: `url` (string, 예: "https://pokeapi.co/api/v2/pokemon/1/")
  - 로직: URL 끝부분의 슬래시를 제거하고 숫자(ID)를 파싱
  - 반환: `number` (예: 1)
- **formatPokemonName**: 이름을 보기 좋게 포맷팅하는 함수 (선택 사항)
  - 입력: `name` (string)
  - 로직: 첫 글자를 대문자로 변환
  - 반환: `string`

### 파일: `src/lib/api/pokemon.ts`
---
설명: PokeAPI v2와 통신하여 데이터를 가져오는 API 클라이언트 레이어입니다. 서버 컴포넌트 또는 API Route에서 호출됩니다.
- **fetchPokemonList**: 포켓몬 목록을 가져오는 비동기 함수
  - 매개변수: `offset` (number, 기본값 0), `limit` (number, 기본값 20)
  - 동작: Next.js `fetch` 또는 `axios`를 사용하여 `https://pokeapi.co/api/v2/pokemon` 엔드포인트 호출
  - 반환: `Promise<IPokemonListResponse>`
- **fetchPokemonDetail**: (준비) 개별 포켓몬 상세 정보 가져오기
  - 매개변수: `id` (number) 또는 `name` (string)
  - 동작: 상세 엔드포인트 호출
  - 반환: `Promise<IPokemon>`

### 파일: `src/app/api/pokemon/route.ts`
---
설명: 클라이언트의 요청을 받아 PokeAPI 데이터를 프록시(Proxy)하거나 가공하여 반환하는 API Route 핸들러입니다.
- **GET 메서드**: 포켓몬 리스트 조회
  - 쿼리 파라미터: `offset`, `limit` (선택 사항)
  - 로직:
    1. 쿼리 파라미터 검증 및 기본값 설정
    2. `src/lib/api/pokemon.ts`의 `fetchPokemonList` 호출
    3. 응답 데이터를 JSON 형식으로 반환 (`NextResponse.json`)
  - 에러 처리: API 호출 실패 시 500 에러 및 에러 메시지 반환

### 파일: `src/app/page.tsx`
---
설명: 포켓몬 도감의 메인 페이지로, 서버 컴포넌트(Server Component)로 구현되어 초기 데이터를 서버 사이드에서 렌더링합니다.
- **데이터 페칭**: 컴포넌트 최상단에서 `fetchPokemonList`를 호출하여 데이터 가져오기
- **렌더링**:
  - `Grid` 레이아웃 (shadcn/ui 또는 Tailwind CSS) 사용
  - `PokemonCard` 컴포넌트를 map을 사용하여 리스트 렌더링
  - 각 카드에는 고유 Key로 포켓몬 ID 또는 이름 사용
- **로딩 상태**: (선택 사항) `loading.tsx` 파일을 별도로 생성하여 Suspense 경계 처리

### 파일: `src/components/PokemonCard.tsx`
---
설명: 포켓몬 한 마리의 정보를 카드 형태로 표시하는 클라이언트 컴포넌트입니다.
- **Props 인터페이스**:
  - `name`: string
  - `url`: string
- **내부 로직**:
  - `extractPokemonId` 유틸리티를 사용하여 URL에서 ID 추출
  - PokeAPI 공식 이미지 URL 생성: `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${id}.png`
- **UI 구성**:
  - 이미지 (`next/image` 권장)
  - 포켓몬 이름 (대문자 변환 등 포맷팅 적용)
  - 포켓몬 ID (번호)
  - 클릭 시 상세 페이지로 이동하는 링크 (`Link` 컴포넌트)