# 코드 사양 (Code Specification)

**Task ID**: task-1-1-3
**대상**: 포켓몬 리스트 API Route 핸들러 및 타입 정의

---

### 파일: src/types/pokemon.ts
---
설명: PokeAPI의 응답 데이터와 우리 애플리케이션에서 사용할 포켓몬 데이터 구조를 정의하는 TypeScript 인터페이스 파일입니다.
- `PokeAPIListResponse`: PokeAPI v2 `pokemon?limit=...` 엔드포인트의 원본 응답 형태 정의 (`count`, `next`, `previous`, `results` 배열)
- `PokeAPIListItem`: `results` 배열 내부의 아이템 형태 (`name`, `url`)
- `PokemonListItem`: 클라이언트로 반환할 최종 형태 (ID 추출, URL 제거 등 포맷팅)
  - `id`: number (URL에서 추출)
  - `name`: string
  - `url`: string (원본 URL, 필요시 사용)

### 파일: src/lib/api/pokemon.ts
---
설명: PokeAPI와의 통신을 담당하는 서버 사이드 유틸리티 함수입니다. API Route 로직을 분리하여 재사용성과 테스트 용이성을 확보합니다.
- `fetchPokemonList(offset: number, limit: number)` 함수 구현
- 환경 변수(`NEXT_PUBLIC_POKEAPI_BASE_URL`)를 사용하여 기본 URL 설정
- `fetch` API를 사용하여 GET 요청 전송
- 응답 데이터를 `PokeAPIListResponse` 타입으로 반환
- 네트워크 에러 발생 시 에러를 throw하여 API Route에서 처리할 수 있도록 함

### 파일: src/app/api/pokemon/route.ts
---
설명: 클라이언트의 요청을 받아 포켓몬 리스트 데이터를 반환하는 Next.js API Route 핸들러입니다.
- `GET` 메서드 핸들러 구현 (비동기 함수)
- `NextRequest`의 `searchParams`를 사용하여 쿼리 파라미터(`offset`, `limit`) 파싱
- 파라미터 기본값 설정 (`offset`: 0, `limit`: 20)
- 파라미터 유효성 검사 (숫자 여부, 최대값 제한 등)
- `lib/api/pokemon.ts`의 `fetchPokemonList` 함수 호출
- 성공 시: `NextResponse.json()`을 사용하여 200 OK 상태 코드와 데이터 반환
- 실패 시: 적절한 에러 메시지와 상태 코드(500 등) 반환