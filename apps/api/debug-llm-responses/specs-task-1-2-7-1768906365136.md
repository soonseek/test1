# 코드 사양 (Code Specification)

**Task ID**: task-1-2-7
**제목**: 이미지 로딩 중 Placeholder(Blur) 처리
**작성자**: Next.js 14+ Full-Stack Architect

---

## 개요
이번 Task는 포켓몬 도감의 메인 리스트(Story 1-2)에서 이미지 로딩 시 발생하는 깜빡임(FOUC, Layout Shift)을 방지하고 UX를 개선하는 것에 초점을 맞춥니다. Next.js의 `Image` 컴포넌트 기능과 Tailwind CSS를 활용하여 Skeleton UI를 구현합니다.

---

## 파일 사양

### 파일: `src/components/pokemon-card.tsx`
---
설명: 포켓몬 정보를 표시하는 개별 카드 컴포넌트 (이미지 로딩 최적화 포커스)
- `next/image`의 `Image` 컴포넌트를 사용하여 포켓몬 이미지를 렌더링합니다.
- `placeholder="blur"` 속성을 사용하여 이미지 로딩 전 흐릿한 처리(Blur)를 적용합니다.
- `blurDataURL` prop을 사용하여 로딩 중 표시할 Base64 형식의 아주 작은 픽셀(또는 회색 박스) 데이터를 제공합니다. (이를 위해 `src/lib/utils`의 함수를 활용)
- 이미지 로딩이 완료되기 전까지 표시될 Skeleton UI(회색 박스)를 `className`과 `onLoadingComplete` prop을 활용해 구현합니다.
- Tailwind CSS의 `animate-pulse` 등을 활용하여 로딩 중임을 시각적으로 표현합니다.
- 접근성을 위해 `alt` 속성에 포켓몬 이름을 명시합니다.

### 파일: `src/lib/utils/image-placeholder.ts`
---
설명: 이미지 Placeholder 생성을 위한 유틸리티 함수
- `getPlaceholderImage()` 함수를 export 합니다.
- Base64로 인코딩된 아주 작은(예: 1x1 픽셀) 회색 또는 투명 이미지 데이터를 반환합니다.
- 이 데이터는 `pokemon-card.tsx`의 `Image` 컴포넌트 `blurDataURL` prop으로 전달되어, 실제 이미지 로딩 전 깜빡임 없는 배경을 제공합니다.

### 파일: `src/app/page.tsx`
---
설명: 메인 페이지 (데이터 패칭 및 리스트 렌더링)
- Server Component로 동작합니다.
- `getPokemonList` 등의 함수를 호출하여 포켓몬 데이터를 가져옵니다.
- `PokemonCard` 컴포넌트를 Grid 형태로 배치합니다.
- 데이터 로딩 중 전체 페이지의 로딩 상태를 처리하기 위해 `loading.tsx`를 참조하거나, Suspense 경계를 설정할 수 있습니다.

### 파일: `src/app/loading.tsx`
---
설명: 전체 페이지 로딩 시 표시되는 Skeleton UI
- `app/page.tsx`가 데이터를 패칭하는 동안 전체 화면에 표시될 로딩 UI를 정의합니다.
- 카드 형태의 Skeleton(회색 박스)을 Grid 형태로 여러 개 표시하여, 실제 콘텐츠가 로드되기 전까지의 레이아웃을 미리 잡아줍니다 (CLS 방지).
- Tailwind CSS를 사용하여 깜빡이는 애니메이션 효과를 적용합니다.

### 파일: `tailwind.config.ts`
---
설명: Tailwind CSS 설정 (애니메이션 확인)
- `animate-pulse` 등의 유틸리티 클래스가 활성화되어 있는지 확인합니다. (기본적으로 Tailwind에 포함되어 있으므로 별도 수정은 거의 필요 없으나, 커스텀 색상이 필요할 경우 명시)

---

## 기술 구현 가이드 (참고)

1.  **Blur Data URL**: `src/lib/utils/image-placeholder.ts`에서 생성한 Base64 문자열을 `Image` 컴포넌트의 `blurDataURL`에 전달하여, 이미지가 로드되기 전까지 해당 색상으로 채워진 상태를 보여줍니다.
2.  **Skeleton UI**: `loading.tsx`와 `pokemon-card.tsx` 내부에서 `bg-gray-200 animate-pulse` 클래스를 사용하여 로딩 중임을 사용자에게 알립니다.
3.  **Layout Stability**: 이미지의 `width`와 `height`를 명시하거나 `fill` 속성을 적절히 사용하여, 이미지 로딩 전후로 레이아웃이 흔들리지 않도록 합니다.