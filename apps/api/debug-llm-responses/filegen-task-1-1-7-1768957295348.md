```markdown
## 파일: src/types/pokemon.ts

```typescript
// PokeAPI 원본 응답 타입 정의

export interface PokeApiListItem {
  name: string;
  url: string;
}

export interface PokeApiType {
  slot: number;
  type: {
    name: string;
    url: string;
  };
}

export interface PokeApiStat {
  base_stat: number;
  effort: number;
  stat: {
    name: string;
    url: string;
  };
}

export interface PokeApiSprites {
  front_default: string | null;
  other: {
    'official-artwork': {
      front_default: string | null;
    };
  };
}

export interface PokeApiDetail {
  id: number;
  name: string;
  height: number;
  weight: number;
  types: PokeApiType[];
  stats: PokeApiStat[];
  sprites: PokeApiSprites;
  // 필요에 따라 추가 필드 정의 가능
}

// 애플리케이션 응답 DTO 타입 정의

export type PokemonTypeKey = 
  | 'normal' | 'fire' | 'water' | 'grass' | 'electric' | 'ice' 
  | 'fighting' | 'poison' | 'ground' | 'flying' | 'psychic' | 'bug' 
  | 'rock' | 'ghost' | 'dragon' | 'steel' | 'fairy';

export interface PokemonType {
  name: PokemonTypeKey;
  korean: string;
  color: string;
}

export interface PokemonListItem {
  id: number;
  name: string;
  imageUrl: string;
  types: PokemonTypeKey[];
}

export interface PokemonStat {
  name: string; // e.g., "hp", "attack"
  value: number;
}

export interface PokemonDetail {
  id: number;
  name: string;
  height: number; // dm
  weight: number; // hg
  types: PokemonType[];
  stats: PokemonStat[];
  images: {
    default: string | null;
    official: string | null;
  };
}
```

## 파일: src/lib/utils/image.ts

```typescript
/**
 * 포켓몬 ID를 기반으로 공식 아트워크 이미지 URL을 생성합니다.
 * @param id 포켓몬 ID
 * @returns 공식 아트워크 이미지 URL
 */
export function getOfficialImageUrl(id: number): string {
  return `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${id}.png`;
}

/**
 * 포켓몬 ID를 기반으로 기본 스프라이트 이미지 URL을 생성합니다.
 * @param id 포켓몬 ID
 * @returns 기본 스프라이트 이미지 URL
 */
export function getSpriteUrl(id: number): string {
  return `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${id}.png`;
}
```

## 파일: src/lib/mappers/pokemon-mapper.ts

```typescript
import { 
  PokeApiListItem, 
  PokeApiDetail, 
  PokemonListItem, 
  PokemonDetail, 
  PokemonType,
  PokemonTypeKey 
} from '@/types/pokemon';
import { getOfficialImageUrl, getSpriteUrl } from '@/lib/utils/image';

// 타입 한글명 및 색상 매핑 테이블
const TYPE_MAP: Record<PokemonTypeKey, { korean: string; color: string }> = {
  normal: { korean: '노말', color: '#A8A878' },
  fire: { korean: '불꽃', color: '#F08030' },
  water: { korean: '물', color: '#6890F0' },
  grass: { korean: '풀', color: '#78C850' },
  electric: { korean: '전기', color: '#F8D030' },
  ice: { korean: '얼음', color: '#98D8D8' },
  fighting: { korean: '격투', color: '#C03028' },
  poison: { korean: '독', color: '#A040A0' },
  ground: { korean: '땅', color: '#E0C068' },
  flying: { korean: '비행', color: '#A890F0' },
  psychic: { korean: '에스퍼', color: '#F85888' },
  bug: { korean: '벌레', color: '#A8B820' },
  rock: { korean: '바위', color: '#B8A038' },
  ghost: { korean: '고스트', color: '#705898' },
  dragon: { korean: '드래곤', color: '#7038F8' },
  steel: { korean: '강철', color: '#B8B8D0' },
  fairy: { korean: '페어리', color: '#EE99AC' },
};

/**
 * PokeAPI 목록 아이템을 애플리케이션 목록 DTO로 변환합니다.
 * @param apiItem PokeAPI 리스트 응답 아이템
 */
export function toPokemonListItem(apiItem: PokeApiListItem): PokemonListItem {
  // URL에서 ID 추출 (예: https://pokeapi.co/api/v2/pokemon/1/ -> 1)
  const id = extractIdFromUrl(apiItem.url);
  
  return {
    id,
    name: apiItem.name,
    imageUrl: getOfficialImageUrl(id),
    types: [], // 목록 API에서는 타입 정보가 없으므로 빈 배열 처리 (또는 별도 요청 필요)
  };
}

/**
 * PokeAPI 상세 정보를 애플리케이션 상세 DTO로 변환합니다.
 * @param apiDetail PokeAPI 상세 응답
 */
export function toPokemonDetail(apiDetail: PokeApiDetail): PokemonDetail {
  return {
    id: apiDetail.id,
    name: apiDetail.name,
    height: apiDetail.height,
    weight: apiDetail.weight,
    types: apiDetail.types.map(t => {
      const typeName = t.type.name as PokemonTypeKey;
      const typeInfo = TYPE_MAP[typeName] || { korean: typeName, color: '#777' };
      return {
        name: typeName,
        korean: typeInfo.korean,
        color: typeInfo.color,
      };
    }),
    stats: apiDetail.stats.map(s => ({
      name: s.stat.name,
      value: s.base_stat,
    })),
    images: {
      default: apiDetail.sprites.front_default,
      official: apiDetail.sprites.other['official-artwork'].front_default,
    },
  };
}

/**
 * URL에서 ID를 추출하는 헬퍼 함수
 */
function extractIdFromUrl(url: string): number {
  const matches = url.match(/\/(\d+)\/$/);
  if (!matches || !matches[1]) {
    return 0;
  }
  return parseInt(matches[1], 10);
}
```

## 파일: src/app/api/pokemon/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { toPokemonListItem } from '@/lib/mappers/pokemon-mapper';

export async function GET(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const page = parseInt(searchParams.get('page') || '0', 10);
    const limit = parseInt(searchParams.get('limit') || '20', 10);

    // PokeAPI는 offset과 limit을 사용합니다.
    const offset = page * limit;
    
    const apiUrl = `https://pokeapi.co/api/v2/pokemon?limit=${limit}&offset=${offset}`;
    
    const response = await fetch(apiUrl);
    
    if (!response.ok) {
      throw new Error('Failed to fetch data from PokeAPI');
    }

    const data = await response.json();
    
    // 데이터 변환 매핑
    const mappedResults = data.results.map(toPokemonListItem);

    return NextResponse.json({
      results: mappedResults,
      count: data.count,
      next: data.next,
      previous: data.previous,
    }, { status: 200 });

  } catch (error) {
    console.error('Pokemon API Error:', error);
    return NextResponse.json(
      { error: 'Internal Server Error', message: 'Failed to fetch pokemon list' },
      { status: 500 }
    );
  }
}
```

## 파일: src/app/api/pokemon/[id]/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { toPokemonDetail } from '@/lib/mappers/pokemon-mapper';

export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  try {
    const id = params.id;
    const apiUrl = `https://pokeapi.co/api/v2/pokemon/${id}`;

    const response = await fetch(apiUrl);

    if (response.status === 404) {
      return NextResponse.json(
        { error: 'Not Found', message: `Pokemon with id ${id} not found` },
        { status: 404 }
      );
    }

    if (!response.ok) {
      throw new Error(`PokeAPI returned status ${response.status}`);
    }

    const apiData = await response.json();

    // 데이터 변환 매핑
    const detailData = toPokemonDetail(apiData);

    return NextResponse.json(detailData, { status: 200 });

  } catch (error) {
    console.error(`Pokemon Detail API Error [${params.id}]:`, error);
    return NextResponse.json(
      { error: 'Internal Server Error', message: 'Failed to fetch pokemon details' },
      { status: 500 }
    );
  }
}
```