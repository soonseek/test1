```markdown
## 파일: src/types/api-error.ts

```typescript
/**
 * API 에러 응답의 구조를 정의합니다.
 * 클라이언트와 서버 간 에러 데이터 계약을 보장합니다.
 */
export interface ApiErrorResponse {
  error: {
    message: string; // 사용자에게 표시할 메시지
    code: string;    // 에러 유형 식별자 (예: 'NETWORK_ERROR', 'TIMEOUT')
  };
}

/**
 * PokeAPI 호출 시 발생하는 커스텀 에러 클래스입니다.
 * 내부 서버 오류(500)와 외부 서비스 오류(503)를 구분하는 데 사용합니다.
 */
export class PokeAPIError extends Error {
  public readonly code: string;
  public readonly statusCode: number;

  constructor(message: string, code: string, statusCode: number = 503) {
    super(message);
    this.name = 'PokeAPIError';
    this.code = code;
    this.statusCode = statusCode;
  }
}
```

## 파일: src/lib/api/pokemon.ts

```typescript
import { PokeAPIError } from '@/types/api-error';

const POKEAPI_BASE_URL = 'https://pokeapi.co/api/v2';
const TIMEOUT_MS = 10000; // 10초 타임아웃

export interface PokemonListItem {
  name: string;
  url: string;
}

export interface PokemonListResponse {
  count: number;
  next: string | null;
  previous: string | null;
  results: PokemonListItem[];
}

/**
 * PokeAPI에서 포켓몬 리스트를 가져옵니다.
 * 타임아웃 및 네트워크 에러 처리를 포함합니다.
 */
export async function fetchPokemonList(
  limit: number = 20,
  offset: number = 0
): Promise<PokemonListResponse> {
  const controller = new AbortController();
  const timeoutId = setTimeout(() => controller.abort(), TIMEOUT_MS);

  try {
    const url = `${POKEAPI_BASE_URL}/pokemon?limit=${limit}&offset=${offset}`;
    const response = await fetch(url, {
      signal: controller.signal,
    });

    clearTimeout(timeoutId);

    // PokeAPI 서버가 5xx 에러를 반환하는 경우 처리
    if (!response.ok) {
      if (response.status >= 500 && response.status < 600) {
        throw new PokeAPIError(
          '외부 포켓몬 API 서버에 문제가 발생했습니다.',
          'POKEAPI_SERVER_ERROR',
          503
        );
      }
      throw new PokeAPIError(
        '포켓몬 데이터를 요청하는 중 문제가 발생했습니다.',
        'POKEAPI_REQUEST_FAILED'
      );
    }

    const data: PokemonListResponse = await response.json();
    return data;

  } catch (error) {
    // 타임아웃 또는 네트워크 에러 처리
    if (error instanceof Error) {
      if (error.name === 'AbortError') {
        console.error('[PokeAPI] Request timed out');
        throw new PokeAPIError(
          '요청 시간이 초과되었습니다. 잠시 후 다시 시도해주세요.',
          'TIMEOUT',
          503
        );
      }
      
      // 이미 정의된 PokeAPIError는 그대로 던짐
      if (error instanceof PokeAPIError) {
        throw error;
      }

      // 그 외 네트워크 파싱 등 기타 에러
      console.error('[PokeAPI] Network or parsing error:', error.message);
      throw new PokeAPIError(
        '네트워크 연결을 확인해주세요.',
        'NETWORK_ERROR',
        503
      );
    }

    // 알 수 없는 에러 형태
    console.error('[PokeAPI] Unknown error:', error);
    throw new PokeAPIError(
      '알 수 없는 오류가 발생했습니다.',
      'UNKNOWN_ERROR'
    );
  }
}
```

## 파일: src/app/api/pokemon/route.ts

```typescript
import { NextResponse } from 'next/server';
import { fetchPokemonList } from '@/lib/api/pokemon';
import { ApiErrorResponse, PokeAPIError } from '@/types/api-error';

export async function GET(request: Request) {
  try {
    const { searchParams } = new URL(request.url);
    const limit = Number(searchParams.get('limit')) || 20;
    const offset = Number(searchParams.get('offset')) || 0;

    const data = await fetchPokemonList(limit, offset);

    // 정상 응답: 200 OK
    return NextResponse.json(data, { status: 200 });

  } catch (error) {
    console.error('[API Route] Error caught:', error);

    // 커스텀 에러 처리 (PokeAPI 연결 실패 등)
    if (error instanceof PokeAPIError) {
      const errorResponse: ApiErrorResponse = {
        error: {
          message: error.message,
          code: error.code,
        },
      };

      // 503 Service Unavailable (외부 서비스 오류)
      return NextResponse.json(errorResponse, { status: error.statusCode || 503 });
    }

    // 예상치 못한 서버 로직 오류: 500 Internal Server Error
    const internalErrorResponse: ApiErrorResponse = {
      error: {
        message: '서버 내부에서 오류가 발생했습니다. 관리자에게 문의해주세요.',
        code: 'INTERNAL_SERVER_ERROR',
      },
    };

    return NextResponse.json(internalErrorResponse, { status: 500 });
  }
}
```

## 파일: src/app/page.tsx

```tsx
import { fetchPokemonList } from '@/lib/api/pokemon';
import { PokeAPIError } from '@/types/api-error';
import Link from 'next/link';

export default async function HomePage() {
  let pokemonList;
  let errorState: { message: string; code: string } | null = null;

  try {
    // 서버 컴포넌트에서 직접 데이터 페칭 시도
    pokemonList = await fetchPokemonList(20, 0);
  } catch (error) {
    // 에러 발생 시 사용자 친화적인 메시지 준비
    if (error instanceof PokeAPIError) {
      errorState = {
        message: error.message,
        code: error.code,
      };
    } else {
      errorState = {
        message: '데이터를 불러오는 데 실패했습니다. 잠시 후 다시 시도해주세요.',
        code: 'UNKNOWN_ERROR',
      };
    }
  }

  return (
    <main className="min-h-screen bg-gray-50 p-8">
      <div className="max-w-4xl mx-auto">
        <h1 className="text-3xl font-bold mb-6 text-center">포켓몬 도감</h1>

        {/* 에러 상황 UI */}
        {errorState ? (
          <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative" role="alert">
            <strong className="font-bold">오류 발생!</strong>
            <span className="block sm:inline"> {errorState.message}</span>
            <div className="mt-4">
              <button 
                onClick={() => window.location.reload()} 
                className="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition"
              >
                다시 시도
              </button>
            </div>
          </div>
        ) : (
          /* 정상 데이터 렌더링 */
          <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">
            {pokemonList?.results.map((pokemon) => {
              // ID 추출 (예: https://pokeapi.co/api/v2/pokemon/1/)
              const id = pokemon.url.split('/').filter(Boolean).pop();
              
              return (
                <Link 
                  key={pokemon.name} 
                  href={`/pokemon/${id}`}
                  className="block p-4 bg-white rounded-lg shadow hover:shadow-md transition border border-gray-100"
                >
                  <div className="capitalize font-medium text-gray-800">
                    {pokemon.name}
                  </div>
                  <div className="text-sm text-gray-500 mt-1">
                    #{id}
                  </div>
                </Link>
              );
            })}
          </div>
        )}
      </div>
    </main>
  );
}
```